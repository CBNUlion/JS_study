# js 컴파일 과정

컴파일 = 언어 간의 의미론적인 매핑 과정 (프로그래밍 언어 --> 기계어 매핑)


## 1. 컴파일레이션

  1. 토크나이징 / 렉싱
    : 코드를 의미있는 조각으로 만드는 과정
  ```js
    var x = 2;
    // var / x / = / 2 / ; /
  ```

  2. 파싱
    : 문법 구조를 반영하여 중첩원소를 갖는 트리형태(AST 추상구문트리)로 바꾸는 과정


    3. 코드 생성
    : AST를 실행코드(기계어)로 바꾸는 과정


## 2. 엔진, 컴파일러, 스코프
  코드실행의 관점에서 상호작용을 이해

  1. 엔진
    : 컴파일레이션의 모든 과정과 프로그램 실행 책임 (런타임 환경의 실질적 담당)

  2. 컴파일러
    : 파싱, 코드생성 등 컴파일레이션

  3. 스코프
    : 선언 변수 작성 및 유지


## 3. 구문의 실행

```js
var x = 2;
```

1. 컴파일러가 var a를 만나면 스코프 안에 변수 a가 있는지 체크

2. 있으면 선언 무시, 없으면 스코프 안에 a 선언 요청 (LHS, RHS 검색)

3. 컴파일러는 a = 2 대입문을 처리하기 위해 엔진이 실행할 수 있는 코드를 생성 (파싱, 코드 생성)

4. 엔진이 실행하는 코드(기계어)는 먼저 스코프에 a라는 변수가 현재 스코프(유효범위. var --> 함수 스코프) 내에서 접근할 수 있는지 확인

5. 가능하면 엔진은 변수 a를 사용, 아니면 가까운 상위 스코프에서 접근 여부 탐색

6. 글로벌스코프에서 선언이 없으면 에러 발생


## 4. LHS와 RHS

변수 생성여부 검색 방법

- LHS = 할당
- RHS = 탐색
